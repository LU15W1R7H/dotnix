#env = WLR_DRM_DEVICES,$HOME/.config/hypr/dgpu-card:$HOME/.config/hypr/igpu-card
#env = WLR_DRM_DEVICES,$HOME/.config/hypr/dgpu-card
env = XCURSOR_SIZE,24

#exec = pkill kanshi; kanshi
exec-once = hypridle
exec-once = waybar
exec-once = swaynotificationcenter
exec-once = hyprctl setcursor Quintom_Ink 24

input {
  kb_layout = us
  kb_variant = altgr-intl
  kb_options = caps:escape

  sensitivity = 0
  follow_mouse = 1
  mouse_refocus = false

  touchpad {
    natural_scroll = true
    disable_while_typing = false
  }
}

general {
  gaps_in = 5
  gaps_out = 10
  border_size = 2
  col.active_border = rgba(33ccffee)
  col.inactive_border = rgba(595959aa)
  
  resize_on_border = true
  layout = hy3
}

decoration {
  rounding = 0

  blur {
    enabled = true
    size = 3
    passes = 1
  
    vibrancy = 0.1696
  }  
  drop_shadow = true
  shadow_range = 4
  shadow_render_power = 3
  col.shadow = rgba(1a1a1aee)
}

animations {
  enabled = true

  bezier = myBezier, 0.05, 0.9, 0.1, 1.05

  animation = windows, 1, 7, myBezier
  animation = windowsOut, 1, 7, default, popin 80%
  animation = border, 1, 10, default
  animation = borderangle, 1, 8, default
  animation = fade, 1, 7, default
  animation = workspaces, 1, 6, default
}

dwindle {
  pseudotile = false
  preserve_split = true
}

master {
  new_is_master = true
}

gestures {
  workspace_swipe = true
}

misc {
  #disable_hyprland_logo = true
  force_default_wallpaper = 0 
  disable_splash_rendering = true
}

plugin {
  hy3 {
    tabs {
      height = 2
      padding = 6
      render_text = false
    }

    autotile {
      enable = true
      trigger_width = 800
      trigger_height = 500
    }
  }

  hyprsplit {
    num_workspaces = 10
  }
}

bind = SUPER + ALT + SHIFT, Q, exit,
bind = SUPER + ALT + SHIFT, M, exec, pkill kanshi; kanshi
bind = SUPER + ALT + SHIFT, B, exec, pkill waybar; waybar
bind = SUPER + ALT + SHIFT, W, split:grabroguewindows

bind = SUPERALT, L, exec, loginctl lock-session
bind = SUPERALT, S, exec, systemctl suspend
bind = SUPERALT, H, exec, systemctl hibernate

bind = SUPERSHIFT, Q, hy3:killactive,
bind = SUPER, Return, exec, $TERMINAL
bind = SUPERSHIFT, Return, exec, $TERMINAL -e zellij-main
bindr = SUPER, Space, exec, pkill wofi || wofi --show drun

bind = SUPER, F, fullscreen
bind = SUPER, G, togglefloating,

# screenshot
bind = ,Print, exec, grim -g "$(slurp)" $XDG_PICTURES_DIR/ss/$(date +'%Y-%m-%dT%H%M%S.png')
bind = SHIFT, Print, exec, grim $XDG_PICTURES_DIR/ss/$(date +'%Y-%m-%dT%H%M%S.png')

# screen brightness
bindel = ,XF86MonBrightnessDown, exec, brightnessctl set 5%-
bindel = ,XF86MonBrightnessUp, exec, brightnessctl set 5%+

# audio volume
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# player
bindl = ,XF86AudioPlay, exec, playerctl play-pause
bindl = ,XF86AudioPause, exec, playerctl pause
bindl = ,XF86AudioStop, exec, playerctl -a stop
bindl = ,XF86AudioNext, exec, playerctl next
bindl = ,XF86AudioPrev, exec, playerctl previous

# tab groups
bind = SUPER, S, hy3:makegroup, h
bind = SUPER, V, hy3:makegroup, v
bind = SUPER, T, hy3:makegroup, tab
#bind = SUPER, A, hy3:changefocus, raise
#bind = SUPERSHIFT, A, hy3:changefocus, lower
#bind = SUPER, E, hy3:expand, expand
#bind = SUPERSHIFT, E, hy3:expand, base
#bind = SUPER, R, hy3:changegroup, opposite

# move focus
bind = SUPER, H, hy3:movefocus, l
bind = SUPER, J, hy3:movefocus, d
bind = SUPER, K, hy3:movefocus, u
bind = SUPER, L, hy3:movefocus, r
bind = SUPERCONTROL, h, hy3:movefocus, l, visible
bind = SUPERCONTROL, j, hy3:movefocus, d, visible
bind = SUPERCONTROL, k, hy3:movefocus, u, visible
bind = SUPERCONTROL, l, hy3:movefocus, r, visible

# move active window
bind = SUPERSHIFT, h, hy3:movewindow, l, once
bind = SUPERSHIFT, j, hy3:movewindow, d, once
bind = SUPERSHIFT, k, hy3:movewindow, u, once
bind = SUPERSHIFT, l, hy3:movewindow, r, once
bind = SUPERCONTROL + SHIFT, h, hy3:movewindow, l, once, visible
bind = SUPERCONTROL + SHIFT, j, hy3:movewindow, d, once, visible
bind = SUPERCONTROL + SHIFT, k, hy3:movewindow, u, once, visible
bind = SUPERCONTROL + SHIFT, l, hy3:movewindow, r, once, visible

# switch workspace
bind = SUPER, 1, split:workspace, 1
bind = SUPER, 2, split:workspace, 2
bind = SUPER, 3, split:workspace, 3
bind = SUPER, 4, split:workspace, 4
bind = SUPER, 5, split:workspace, 5
bind = SUPER, 6, split:workspace, 6
bind = SUPER, 7, split:workspace, 7
bind = SUPER, 8, split:workspace, 8
bind = SUPER, 9, split:workspace, 9
bind = SUPER, 0, split:workspace, 10

# move active window to workspace
bind = SUPERSHIFT, 1, split:movetoworkspacesilent, 1
bind = SUPERSHIFT, 2, split:movetoworkspacesilent, 2
bind = SUPERSHIFT, 3, split:movetoworkspacesilent, 3
bind = SUPERSHIFT, 4, split:movetoworkspacesilent, 4
bind = SUPERSHIFT, 5, split:movetoworkspacesilent, 5
bind = SUPERSHIFT, 6, split:movetoworkspacesilent, 6
bind = SUPERSHIFT, 7, split:movetoworkspacesilent, 7
bind = SUPERSHIFT, 8, split:movetoworkspacesilent, 8
bind = SUPERSHIFT, 9, split:movetoworkspacesilent, 9
bind = SUPERSHIFT, 0, split:movetoworkspacesilent, 10

bind = SUPER, D, focusmonitor, +1
bind = SUPERSHIFT, D, split:swapactiveworkspaces, current +1

# Example special workspace (scratchpad)
#bind = SUPER, S, togglespecialworkspace, magic
#bind = SUPERSHIFT, S, movetoworkspacesilent, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
bindn = , mouse:272, hy3:focustab, mouse
bindn = , mouse_down, hy3:focustab, l, require_hovered
bindn = , mouse_up, hy3:focustab, r, require_hovered

# resize window
bind = SUPERSHIFT, Y, resizeactive, -50 0
bind = SUPERSHIFT, U, resizeactive, 0 50
bind = SUPERSHIFT, I, resizeactive, 0 -50
bind = SUPERSHIFT, O, resizeactive, 50 0
